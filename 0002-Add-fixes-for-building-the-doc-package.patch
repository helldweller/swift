From 0bab29e45f13cbb9a6348f4da3c2d4d0fdf5397c Mon Sep 17 00:00:00 2001
From: Alan Pevec <apevec@redhat.com>
Date: Thu, 5 Jan 2012 00:03:00 +0100
Subject: [PATCH] Add fixes for building the doc package
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

- always reference the swift module from the package we're building
- use oslo.sphinx from python-oslo-sphinx 1.x
Based on Nova/Glance EPEL patch by PÃ¡draig Brady <P@draigBrady.com>
---
 doc/source/conf.py | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/doc/source/conf.py b/doc/source/conf.py
index 5d2fbd3..3fa01c3 100644
--- a/doc/source/conf.py
+++ b/doc/source/conf.py
@@ -20,8 +20,8 @@ import datetime
 # If extensions (or modules to document with autodoc) are in another directory,
 # add these directories to sys.path here. If the directory is relative to the
 # documentation root, use os.path.abspath to make it absolute, like shown here.
-sys.path.extend([os.path.abspath('../swift'), os.path.abspath('..'),
-                 os.path.abspath('../bin')])
+sys.path.extend([os.path.abspath('../../swift'), os.path.abspath('../..'),
+                 os.path.abspath('../../bin')])
 
 # -- General configuration ----------------------------------------------------
 
@@ -29,7 +29,7 @@ sys.path.extend([os.path.abspath('../swift'), os.path.abspath('..'),
 # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom ones.
 extensions = ['sphinx.ext.autodoc',
               'sphinx.ext.todo', 'sphinx.ext.coverage', 'sphinx.ext.pngmath',
-              'sphinx.ext.ifconfig', 'oslosphinx']
+              'sphinx.ext.ifconfig', 'oslo.sphinx']
 todo_include_todos = True
 
 # Add any paths that contain templates here, relative to this directory.
